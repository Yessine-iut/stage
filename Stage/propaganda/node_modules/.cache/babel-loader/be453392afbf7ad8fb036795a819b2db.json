{"ast":null,"code":"/**\n * attr fix for old ie\n * @author yiminghe@gmail.com\n */\nvar R_BOOLEAN = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\n    R_FOCUSABLE = /^(?:button|input|object|select|textarea)$/i,\n    R_CLICKABLE = /^a(?:rea)?$/i,\n    R_INVALID_CHAR = /:|^on/;\nvar attrFix = {},\n    propFix,\n    attrHooks = {\n  // http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n  tabindex: {\n    get: function (el) {\n      // elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set\n      var attributeNode = el.getAttributeNode('tabindex');\n      return attributeNode && attributeNode.specified ? parseInt(attributeNode.value, 10) : R_FOCUSABLE.test(el.nodeName) || R_CLICKABLE.test(el.nodeName) && el.href ? 0 : undefined;\n    }\n  }\n},\n    boolHook = {\n  get: function (elem, name) {\n    // 转发到 prop 方法\n    return elem[propFix[name] || name] ? // 根据 w3c attribute , true 时返回属性名字符串\n    name.toLowerCase() : undefined;\n  }\n},\n    attrNodeHook = {};\nattrHooks.style = {\n  get: function (el) {\n    return el.style.cssText;\n  }\n};\npropFix = {\n  hidefocus: 'hideFocus',\n  tabindex: 'tabIndex',\n  readonly: 'readOnly',\n  'for': 'htmlFor',\n  'class': 'className',\n  maxlength: 'maxLength',\n  cellspacing: 'cellSpacing',\n  cellpadding: 'cellPadding',\n  rowspan: 'rowSpan',\n  colspan: 'colSpan',\n  usemap: 'useMap',\n  frameborder: 'frameBorder',\n  contenteditable: 'contentEditable'\n};\nvar ua = typeof navigator !== 'undefined' ? navigator.userAgent : '';\nvar doc = typeof document !== 'undefined' ? document : {};\n\nfunction numberify(s) {\n  var c = 0; // convert '1.2.3.4' to 1.234\n\n  return parseFloat(s.replace(/\\./g, function () {\n    return c++ === 0 ? '.' : '';\n  }));\n}\n\nfunction ieVersion() {\n  var m, v;\n\n  if ((m = ua.match(/MSIE ([^;]*)|Trident.*; rv(?:\\s|:)?([0-9.]+)/)) && (v = m[1] || m[2])) {\n    return doc.documentMode || numberify(v);\n  }\n}\n\nfunction mix(s, t) {\n  for (var p in t) {\n    s[p] = t[p];\n  }\n}\n\nfunction each(arr, fn) {\n  var i = 0,\n      l = arr.length;\n\n  for (; i < l; i++) {\n    if (fn(arr[i], i) === false) {\n      break;\n    }\n  }\n}\n\nvar ie = ieVersion();\n\nif (ie && ie < 8) {\n  attrHooks.style.set = function (el, val) {\n    el.style.cssText = val;\n  }; // get attribute value from attribute node for ie\n\n\n  mix(attrNodeHook, {\n    get: function (elem, name) {\n      var ret = elem.getAttributeNode(name); // Return undefined if attribute node specified by user\n\n      return ret && ( // fix #100\n      ret.specified || ret.nodeValue) ? ret.nodeValue : undefined;\n    }\n  }); // ie6,7 不区分 attribute 与 property\n\n  mix(attrFix, propFix); // http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\n  attrHooks.tabIndex = attrHooks.tabindex; // 不光是 href, src, 还有 rowspan 等非 mapping 属性，也需要用第 2 个参数来获取原始值\n  // 注意 colSpan rowSpan 已经由 propFix 转为大写\n\n  each(['href', 'src', 'width', 'height', 'colSpan', 'rowSpan'], function (name) {\n    attrHooks[name] = {\n      get: function (elem) {\n        var ret = elem.getAttribute(name, 2);\n        return ret === null ? undefined : ret;\n      }\n    };\n  });\n  attrHooks.placeholder = {\n    get: function (elem, name) {\n      return elem[name] || attrNodeHook.get(elem, name);\n    }\n  };\n}\n\nif (ie) {\n  var hrefFix = attrHooks.href = attrHooks.href || {};\n\n  hrefFix.set = function (el, val, name) {\n    var childNodes = el.childNodes,\n        b,\n        len = childNodes.length,\n        allText = len > 0;\n\n    for (len = len - 1; len >= 0; len--) {\n      if (childNodes[len].nodeType !== 3) {\n        allText = 0;\n      }\n    }\n\n    if (allText) {\n      b = el.ownerDocument.createElement('b');\n      b.style.display = 'none';\n      el.appendChild(b);\n    }\n\n    el.setAttribute(name, '' + val);\n\n    if (b) {\n      el.removeChild(b);\n    }\n  };\n}\n\nvar RE_TRIM = /^[\\s\\xa0]+|[\\s\\xa0]+$/g,\n    trim = String.prototype.trim;\nvar SPACE = ' ';\nvar getElementsByTagName;\n\ngetElementsByTagName = function (name, context) {\n  return context.getElementsByTagName(name);\n};\n\nif (doc.createElement) {\n  var div = doc.createElement('div');\n  div.appendChild(document.createComment(''));\n\n  if (div.getElementsByTagName('*').length) {\n    getElementsByTagName = function (name, context) {\n      var nodes = context.getElementsByTagName(name),\n          needsFilter = name === '*'; // <input id='length'>\n\n      if (needsFilter || typeof nodes.length !== 'number') {\n        var ret = [],\n            i = 0,\n            el;\n\n        while (el = nodes[i++]) {\n          if (!needsFilter || el.nodeType === 1) {\n            ret.push(el);\n          }\n        }\n\n        return ret;\n      } else {\n        return nodes;\n      }\n    };\n  }\n}\n\nvar compareNodeOrder = 'sourceIndex' in (doc && doc.documentElement || {}) ? function (a, b) {\n  return a.sourceIndex - b.sourceIndex;\n} : function (a, b) {\n  if (!a.compareDocumentPosition || !b.compareDocumentPosition) {\n    return a.compareDocumentPosition ? -1 : 1;\n  }\n\n  var bit = a.compareDocumentPosition(b) & 4;\n  return bit ? -1 : 1;\n};\nvar util = module.exports = {\n  ie: ie,\n  unique: function () {\n    var hasDuplicate,\n        baseHasDuplicate = true; // Here we check if the JavaScript engine is using some sort of\n    // optimization where it does not always call our comparison\n    // function. If that is the case, discard the hasDuplicate value.\n    // Thus far that includes Google Chrome.\n\n    [0, 0].sort(function () {\n      baseHasDuplicate = false;\n      return 0;\n    });\n\n    function sortOrder(a, b) {\n      if (a === b) {\n        hasDuplicate = true;\n        return 0;\n      }\n\n      return compareNodeOrder(a, b);\n    } // 排序去重\n\n\n    return function (elements) {\n      hasDuplicate = baseHasDuplicate;\n      elements.sort(sortOrder);\n\n      if (hasDuplicate) {\n        var i = 1,\n            len = elements.length;\n\n        while (i < len) {\n          if (elements[i] === elements[i - 1]) {\n            elements.splice(i, 1);\n            --len;\n          } else {\n            i++;\n          }\n        }\n      }\n\n      return elements;\n    };\n  }(),\n  getElementsByTagName: getElementsByTagName,\n  getSimpleAttr: function (el, name) {\n    var ret = el && el.getAttributeNode(name);\n\n    if (ret && ret.specified) {\n      return 'value' in ret ? ret.value : ret.nodeValue;\n    }\n\n    return undefined;\n  },\n  contains: ie ? function (a, b) {\n    if (a.nodeType === 9) {\n      a = a.documentElement;\n    } // !a.contains => a===document || text\n    // 注意原生 contains 判断时 a===b 也返回 true\n\n\n    b = b.parentNode;\n\n    if (a === b) {\n      return true;\n    } // when b is document, a.contains(b) 不支持的接口 in ie\n\n\n    if (b && b.nodeType === 1) {\n      return a.contains && a.contains(b);\n    } else {\n      return false;\n    }\n  } : function (a, b) {\n    return !!(a.compareDocumentPosition(b) & 16);\n  },\n  isTag: function (el, value) {\n    return value === '*' || el.nodeName.toLowerCase() === value.toLowerCase();\n  },\n  hasSingleClass: function (el, cls) {\n    // consider xml\n    // https://github.com/kissyteam/kissy/issues/532\n    var className = el && util.getSimpleAttr(el, 'class');\n    return className && (className = className.replace(/[\\r\\t\\n]/g, SPACE)) && (SPACE + className + SPACE).indexOf(SPACE + cls + SPACE) > -1;\n  },\n  startsWith: function (str, prefix) {\n    return str.lastIndexOf(prefix, 0) === 0;\n  },\n  endsWith: function (str, suffix) {\n    var ind = str.length - suffix.length;\n    return ind >= 0 && str.indexOf(suffix, ind) === ind;\n  },\n  trim: trim ? function (str) {\n    return str == null ? '' : trim.call(str);\n  } : function (str) {\n    return str == null ? '' : (str + '').replace(RE_TRIM, '');\n  },\n  attr: function (el, name) {\n    var attrNormalizer, ret; // scrollLeft\n\n    name = name.toLowerCase(); // custom attrs\n\n    name = attrFix[name] || name;\n\n    if (R_BOOLEAN.test(name)) {\n      attrNormalizer = boolHook;\n    } else if (R_INVALID_CHAR.test(name)) {\n      // only old ie?\n      attrNormalizer = attrNodeHook;\n    } else {\n      attrNormalizer = attrHooks[name];\n    }\n\n    if (el && el.nodeType === 1) {\n      // browsers index elements by id/name on forms, give priority to attributes.\n      if (el.nodeName.toLowerCase() === 'form') {\n        attrNormalizer = attrNodeHook;\n      }\n\n      if (attrNormalizer && attrNormalizer.get) {\n        return attrNormalizer.get(el, name);\n      }\n\n      ret = el.getAttribute(name);\n\n      if (ret === '') {\n        var attrNode = el.getAttributeNode(name);\n\n        if (!attrNode || !attrNode.specified) {\n          return undefined;\n        }\n      } // standard browser non-existing attribute return null\n      // ie<8 will return undefined , because it return property\n      // so norm to undefined\n\n\n      return ret === null ? undefined : ret;\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/dofla/Desktop/Stage/propaganda/node_modules/query-selector/lib/query-selector/util.js"],"names":["R_BOOLEAN","R_FOCUSABLE","R_CLICKABLE","R_INVALID_CHAR","attrFix","propFix","attrHooks","tabindex","get","el","attributeNode","getAttributeNode","specified","parseInt","value","test","nodeName","href","undefined","boolHook","elem","name","toLowerCase","attrNodeHook","style","cssText","hidefocus","readonly","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","ua","navigator","userAgent","doc","document","numberify","s","c","parseFloat","replace","ieVersion","m","v","match","documentMode","mix","t","p","each","arr","fn","i","l","length","ie","set","val","ret","nodeValue","tabIndex","getAttribute","placeholder","hrefFix","childNodes","b","len","allText","nodeType","ownerDocument","createElement","display","appendChild","setAttribute","removeChild","RE_TRIM","trim","String","prototype","SPACE","getElementsByTagName","context","div","createComment","nodes","needsFilter","push","compareNodeOrder","documentElement","a","sourceIndex","compareDocumentPosition","bit","util","module","exports","unique","hasDuplicate","baseHasDuplicate","sort","sortOrder","elements","splice","getSimpleAttr","contains","parentNode","isTag","hasSingleClass","cls","className","indexOf","startsWith","str","prefix","lastIndexOf","endsWith","suffix","ind","call","attr","attrNormalizer","attrNode"],"mappings":"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","sourcesContent":["/**\n * attr fix for old ie\n * @author yiminghe@gmail.com\n */\nvar R_BOOLEAN = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\n  R_FOCUSABLE = /^(?:button|input|object|select|textarea)$/i,\n  R_CLICKABLE = /^a(?:rea)?$/i,\n  R_INVALID_CHAR = /:|^on/;\n\nvar attrFix = {},\n  propFix,\n  attrHooks = {\n    // http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n    tabindex: {\n      get: function (el) {\n        // elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set\n        var attributeNode = el.getAttributeNode('tabindex');\n        return attributeNode && attributeNode.specified ?\n          parseInt(attributeNode.value, 10) :\n          R_FOCUSABLE.test(el.nodeName) ||\n          R_CLICKABLE.test(el.nodeName) && el.href ?\n            0 :\n            undefined;\n      }\n    }\n  },\n  boolHook = {\n    get: function (elem, name) {\n      // 转发到 prop 方法\n      return elem[propFix[name] || name] ?\n        // 根据 w3c attribute , true 时返回属性名字符串\n        name.toLowerCase() :\n        undefined;\n    }\n  },\n  attrNodeHook = {};\n\nattrHooks.style = {\n  get: function (el) {\n    return el.style.cssText;\n  }\n};\n\npropFix = {\n  hidefocus: 'hideFocus',\n  tabindex: 'tabIndex',\n  readonly: 'readOnly',\n  'for': 'htmlFor',\n  'class': 'className',\n  maxlength: 'maxLength',\n  cellspacing: 'cellSpacing',\n  cellpadding: 'cellPadding',\n  rowspan: 'rowSpan',\n  colspan: 'colSpan',\n  usemap: 'useMap',\n  frameborder: 'frameBorder',\n  contenteditable: 'contentEditable'\n};\n\nvar ua = typeof navigator !== 'undefined' ? navigator.userAgent : '';\nvar doc = typeof document !== 'undefined' ? document : {};\n\nfunction numberify(s) {\n  var c = 0;\n  // convert '1.2.3.4' to 1.234\n  return parseFloat(s.replace(/\\./g, function () {\n    return (c++ === 0) ? '.' : '';\n  }));\n}\n\nfunction ieVersion() {\n  var m, v;\n  if ((m = ua.match(/MSIE ([^;]*)|Trident.*; rv(?:\\s|:)?([0-9.]+)/)) &&\n    (v = (m[1] || m[2]))) {\n    return doc.documentMode || numberify(v);\n  }\n}\n\nfunction mix(s, t) {\n  for (var p in t) {\n    s[p] = t[p];\n  }\n}\n\nfunction each(arr, fn) {\n  var i = 0, l = arr.length;\n  for (; i < l; i++) {\n    if (fn(arr[i], i) === false) {\n      break;\n    }\n  }\n}\nvar ie = ieVersion();\n\nif (ie && ie < 8) {\n  attrHooks.style.set = function (el, val) {\n    el.style.cssText = val;\n  };\n\n  // get attribute value from attribute node for ie\n  mix(attrNodeHook, {\n    get: function (elem, name) {\n      var ret = elem.getAttributeNode(name);\n      // Return undefined if attribute node specified by user\n      return ret && (\n        // fix #100\n      ret.specified || ret.nodeValue) ?\n        ret.nodeValue :\n        undefined;\n    }\n  });\n\n  // ie6,7 不区分 attribute 与 property\n  mix(attrFix, propFix);\n\n  // http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n  attrHooks.tabIndex = attrHooks.tabindex;\n\n  // 不光是 href, src, 还有 rowspan 等非 mapping 属性，也需要用第 2 个参数来获取原始值\n  // 注意 colSpan rowSpan 已经由 propFix 转为大写\n  each(['href', 'src', 'width', 'height', 'colSpan', 'rowSpan'], function (name) {\n    attrHooks[name] = {\n      get: function (elem) {\n        var ret = elem.getAttribute(name, 2);\n        return ret === null ? undefined : ret;\n      }\n    };\n  });\n\n  attrHooks.placeholder = {\n    get: function (elem, name) {\n      return elem[name] || attrNodeHook.get(elem, name);\n    }\n  };\n}\n\nif (ie) {\n  var hrefFix = attrHooks.href = attrHooks.href || {};\n  hrefFix.set = function (el, val, name) {\n    var childNodes = el.childNodes,\n      b,\n      len = childNodes.length,\n      allText = len > 0;\n    for (len = len - 1; len >= 0; len--) {\n      if (childNodes[len].nodeType !== 3) {\n        allText = 0;\n      }\n    }\n    if (allText) {\n      b = el.ownerDocument.createElement('b');\n      b.style.display = 'none';\n      el.appendChild(b);\n    }\n    el.setAttribute(name, '' + val);\n    if (b) {\n      el.removeChild(b);\n    }\n  };\n}\n\nvar RE_TRIM = /^[\\s\\xa0]+|[\\s\\xa0]+$/g,\n  trim = String.prototype.trim;\nvar SPACE = ' ';\n\nvar getElementsByTagName;\ngetElementsByTagName = function (name, context) {\n  return context.getElementsByTagName(name);\n};\n\nif (doc.createElement) {\n  var div = doc.createElement('div');\n  div.appendChild(document.createComment(''));\n  if (div.getElementsByTagName('*').length) {\n    getElementsByTagName = function (name, context) {\n      var nodes = context.getElementsByTagName(name),\n        needsFilter = name === '*';\n      // <input id='length'>\n      if (needsFilter || typeof nodes.length !== 'number') {\n        var ret = [],\n          i = 0,\n          el;\n        while ((el = nodes[i++])) {\n          if (!needsFilter || el.nodeType === 1) {\n            ret.push(el);\n          }\n        }\n        return ret;\n      } else {\n        return nodes;\n      }\n    };\n  }\n}\n\nvar compareNodeOrder = ('sourceIndex' in (doc && doc.documentElement || {})) ? function (a, b) {\n  return a.sourceIndex - b.sourceIndex;\n} : function (a, b) {\n  if (!a.compareDocumentPosition || !b.compareDocumentPosition) {\n    return a.compareDocumentPosition ? -1 : 1;\n  }\n  var bit = a.compareDocumentPosition(b) & 4;\n  return bit ? -1 : 1;\n};\n\nvar util = module.exports = {\n  ie: ie,\n\n  unique: (function () {\n    var hasDuplicate,\n      baseHasDuplicate = true;\n\n    // Here we check if the JavaScript engine is using some sort of\n    // optimization where it does not always call our comparison\n    // function. If that is the case, discard the hasDuplicate value.\n    // Thus far that includes Google Chrome.\n    [0, 0].sort(function () {\n      baseHasDuplicate = false;\n      return 0;\n    });\n\n    function sortOrder(a, b) {\n      if (a === b) {\n        hasDuplicate = true;\n        return 0;\n      }\n\n      return compareNodeOrder(a, b);\n    }\n\n    // 排序去重\n    return function (elements) {\n      hasDuplicate = baseHasDuplicate;\n      elements.sort(sortOrder);\n\n      if (hasDuplicate) {\n        var i = 1, len = elements.length;\n        while (i < len) {\n          if (elements[i] === elements[i - 1]) {\n            elements.splice(i, 1);\n            --len;\n          } else {\n            i++;\n          }\n        }\n      }\n      return elements;\n    };\n  })(),\n\n  getElementsByTagName: getElementsByTagName,\n\n  getSimpleAttr: function (el, name) {\n    var ret = el && el.getAttributeNode(name);\n    if (ret && ret.specified) {\n      return 'value' in ret ? ret.value : ret.nodeValue;\n    }\n    return undefined;\n  },\n\n  contains: ie ? function (a, b) {\n    if (a.nodeType === 9) {\n      a = a.documentElement;\n    }\n    // !a.contains => a===document || text\n    // 注意原生 contains 判断时 a===b 也返回 true\n    b = b.parentNode;\n\n    if (a === b) {\n      return true;\n    }\n\n    // when b is document, a.contains(b) 不支持的接口 in ie\n    if (b && b.nodeType === 1) {\n      return a.contains && a.contains(b);\n    } else {\n      return false;\n    }\n  } : function (a, b) {\n    return !!(a.compareDocumentPosition(b) & 16);\n  },\n\n  isTag: function (el, value) {\n    return value === '*' || el.nodeName.toLowerCase() === value.toLowerCase();\n  },\n\n  hasSingleClass: function (el, cls) {\n    // consider xml\n    // https://github.com/kissyteam/kissy/issues/532\n    var className = el && util.getSimpleAttr(el, 'class');\n    return className && (className = className.replace(/[\\r\\t\\n]/g, SPACE)) &&\n      (SPACE + className + SPACE).indexOf(SPACE + cls + SPACE) > -1;\n  },\n\n  startsWith: function (str, prefix) {\n    return str.lastIndexOf(prefix, 0) === 0;\n  },\n\n  endsWith: function (str, suffix) {\n    var ind = str.length - suffix.length;\n    return ind >= 0 && str.indexOf(suffix, ind) === ind;\n  },\n\n  trim: trim ?\n    function (str) {\n      return str == null ? '' : trim.call(str);\n    } :\n    function (str) {\n      return str == null ? '' : (str + '').replace(RE_TRIM, '');\n    },\n\n  attr: function (el, name) {\n    var attrNormalizer, ret;\n    // scrollLeft\n    name = name.toLowerCase();\n    // custom attrs\n    name = attrFix[name] || name;\n    if (R_BOOLEAN.test(name)) {\n      attrNormalizer = boolHook;\n    } else if (R_INVALID_CHAR.test(name)) {\n      // only old ie?\n      attrNormalizer = attrNodeHook;\n    } else {\n      attrNormalizer = attrHooks[name];\n    }\n    if (el && el.nodeType === 1) {\n      // browsers index elements by id/name on forms, give priority to attributes.\n      if (el.nodeName.toLowerCase() === 'form') {\n        attrNormalizer = attrNodeHook;\n      }\n      if (attrNormalizer && attrNormalizer.get) {\n        return attrNormalizer.get(el, name);\n      }\n      ret = el.getAttribute(name);\n      if (ret === '') {\n        var attrNode = el.getAttributeNode(name);\n        if (!attrNode || !attrNode.specified) {\n          return undefined;\n        }\n      }\n      // standard browser non-existing attribute return null\n      // ie<8 will return undefined , because it return property\n      // so norm to undefined\n      return ret === null ? undefined : ret;\n    }\n  }\n};"]},"metadata":{},"sourceType":"script"}